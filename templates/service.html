{% extends "base.html" %}
{% block content %}
<h2 class="text-xl font-bold mb-4">⚙️ Service – brunnen.service</h2>

<p class="mb-4"><b>Status:</b>
  {% if svc_status == "active" %}
    <span class="text-green-700 font-semibold">active</span>
  {% else %}
    <span class="text-red-700 font-semibold">{{ svc_status }}</span>
  {% endif %}
</p>

<div class="space-x-2">
  <button onclick="svc('start')"   class="bg-green-600 text-white px-3 py-2 rounded">Start</button>
  <button onclick="svc('stop')"    class="bg-red-600 text-white px-3 py-2 rounded">Stop</button>
  <button onclick="svc('restart')" class="bg-blue-600 text-white px-3 py-2 rounded">Restart</button>
</div>

<p id="svcmsg" class="mt-4 text-gray-700"></p>

<script>
async function svc(action) {
  const formData = new FormData();
  formData.append('action', action);
  const r = await fetch('{{ url_for("service_action") }}', { method: 'POST', body: formData });
  const j = await r.json();
  document.getElementById('svcmsg').innerText = j.message + " (Status: " + j.svc_status + ")";
}
</script>
{% endblock %}
